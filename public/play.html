<!doctype html>
<html>
    <style>
        iframe {
            width: 100vw;
            height: 100vh;
        }
    </style>
    <head>
        <script src="/uv/uv.bundle.js"></script>
        <script src="/uv/uv.config.js"></script>
        <script src="/baremux/index.js"></script>

    </head>
    <body>
        <h1 id="change"> NO GAME HERE</h1>    
        <iframe id="gameframe" src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=true" allow="autoplay"></iframe>z
        <button class="under-frame" onclick="fullscreen()">Fullscreen</button>
        <script>
            const connection = new BareMux.BareMuxConnection("/baremux/worker.js")
            const wispUrl = (location.protocol === "https:" ? "wss" : "ws") + "://" + location.host + "/wisp/";
            const bareUrl = (location.protocol === "https:" ? "https" : "http") + "://" + location.host + "/bare/"
            const urlParams = new URLSearchParams(window.location.search);
            const gameFrame = document.getElementById('gameframe');
            var gameURL = ""

            document.getElementById('change').innerHTML = urlParams.get('game').replace('-',' ').charAt(0).toUpperCase() + urlParams.get('game').replace('-',' ').slice(1);
            game = urlParams.get('game');
            if (game == "poly-track") {
            	gameURL = "";
            } else if (game == "bulletz.io") {
            	gameURL = "https://bulletz.io";
            } else if (game == "ovo") {
            	gameURL = "";
            } else if (game == "dadish") {
            	gameURL = "";
            } else if (game == "dadish-2") {
            	gameURL = "";
            } else if (game == "dadish-3") {
            	gameURL = "";
            } else if (game == "dadish-3D") {
            	gameURL = "";
            } else if (game == "super-liquid-soccer") {
            	gameURL = "";
            } else if (game == "watermelon-game") {
            	gameURL = "";
            } else if (game == "jump-only") {
            	gameURL = "";
            } else if (game == "drive-mad") {
            	gameURL = "";
            } else if (game == "bank-robbery") {
            	gameURL = "";
            } else if (game == "bank-robbery-2") {
            	gameURL = "";
            } else if (game == "bank-robbery-3") {
            	gameURL = "";
            } else if (game == "vex-1") {
            	gameURL = "";
            } else if (game == "vex-2") {
            	gameURL = "";
            } else if (game == "vex-3") {
            	gameURL = "";
            } else if (game == "vex-4") {
            	gameURL = "";
            } else if (game == "vex-5") {
            	gameURL = "";
            } else if (game == "vex-6") {
            	gameURL = "";
            } else if (game == "vex-7") {
            	gameURL = "";
            } else if (game == "vex-8") {
            	gameURL = "";
            } else if (game == "ks-2-teams") {
            	gameURL = "";
            } else if (game == "hobo-1") {
            	gameURL = "";
            } else if (game == "hobo-2") {
            	gameURL = "";
            } else if (game == "hobo-3") {
            	gameURL = "";
            } else if (game == "hobo-4") {
            	gameURL = "";
            } else if (game == "hobo-5") {
            	gameURL = "";
            } else if (game == "hobo-6") {
            	gameURL = "";
            } else if (game == "hobo-7") {
            	gameURL = "";
            } else if (game == "choppy-orc") {
            	gameURL = "";
            } else if (game == "recoil") {
            	gameURL = "";
            } else if (game == "tag") {
            	gameURL = "";
            } else if (game == "tag-2") {
            	gameURL = "";
            } else if (game == "yohoho.io") {
            	gameURL = "";
            } else if (game == "double-panda") {
            	gameURL = "";
            } else if (game == "race-survival") {
            	gameURL = "";
            } else if (game == "bitlife") {
            	gameURL = "";
            } else if (game == "slowroads") {
            	gameURL = "";
            } else if (game == "minecraft") {
            	gameURL = "";
            }
            async function launchProxy() {
                if (!await connection.getTransport()) {
                    await connection.setTransport("/epoxy/index.mjs", [{ wisp: wispUrl }]);
                }
                console.log(gameURL)
                document.getElementById('gameframe').src = __uv$config.prefix + __uv$config.encodeUrl(gameURL);
            }
            launchProxy();
            function fullscreen(){
                // Supports most browsers and their versions.
                var requestMethod = gameFrame.requestFullScreen || gameFrame.webkitRequestFullScreen || gameFrame.mozRequestFullScreen || gameFrame.msRequestFullScreen;
            
                if (requestMethod) { // Native full screen.
                    requestMethod.call(gameFrame);
                } else if (typeof window.ActiveXObject !== "undefined") { // Older IE.
                    var wscript = new ActiveXObject("WScript.Shell");
                    if (wscript !== null) {
                        wscript.SendKeys("{F11}");
                    }
                }
            }
        </script>
    </body>
</html>